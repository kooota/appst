
var url = location.href;
var path = location.pathname;

// if (url == "https://appstimes.jp/") {
//   $(".likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/like', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
// } else {
//   $(".likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/sidelike', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
// }

var windowWidth = $(window).width();
var windowSm = 640;

if (windowWidth <= windowSm) {
    //横幅640px以下のとき（つまりスマホ時）に行う処理を書く
  if (url == "https://appstimes.jp/") {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/splike', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else if (url == "http://localhost:3000/") {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/splike', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else if (document.URL.match(/users/)) {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/splike', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else if (document.URL.match(/categories/)) {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/splike', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else if (document.URL.match(/ranking/)) {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/splike', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/spsidelike', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  }

} else {
    //横幅640px超のとき（タブレット、PC）に行う処理を書く
  if (url == "https://appstimes.jp/") {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/like', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else if (url == "http://localhost:3000/") {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/like', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else if (document.URL.match(/users/)) {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/like', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else if (document.URL.match(/categories/)) {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/like', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else if (document.URL.match(/ranking/)) {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/like', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  } else {
    $(".sp-likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/sidelike', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
  }
}

// $(".likes-count-<%=@post.id%>").html("<%= j(render partial: 'likes/like', locals: { post: @post, posts: @posts, likes: @likes, like: @like}) %>");
